<!Doctype html>

<script type="text/javascript">


/**

上述的 "计时器" 程序看上去比函数瀑布还要长，
所以我们可以将它的核心部分写成一个 Promise 函数：

*/
		
		 /** 
		 这个print返回 一个 Promise 对象，就类似前面例子中的  
		 
		 then返回  Promise 对象，那么下一个then 相当于对这个返回的 Promise 进行操作
	
		 */
		function print(delay, message) {
			return new Promise(function (resolve, reject) {
				setTimeout(function () {
					console.log(message);
					resolve();
				}, delay);
			});
		}
		
		
		//（1）.第一次调用，直接返回一个 Promise 对象
		print(1000, "First")
		
		// 调用返回对象的  then
		.then(function () {
		
			return print(4000, "Second");//（2）.第二次调用，再返回一个 Promise 对象
				
				/**
					 这里不用return 相当于 后面两个会并行
					 
					 这里用return 相当于 后面两个串行
				*/
				
		}).then(function () {
			print(3000, "Third");
		});
		
		
		
		
		
</script>

<html>
		 
</html>	

